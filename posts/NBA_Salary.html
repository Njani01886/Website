<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nayan Jani">
<meta name="dcterms.date" content="2023-06-12">
<meta name="description" content="Machine Learning for the Social Sciences">

<title>Nayan’s Blog - NBA Salary Prediction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<meta name="twitter:title" content="Nayan’s Blog - NBA Salary Prediction">
<meta name="twitter:description" content="Machine Learning for the Social Sciences">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Nayan’s Blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://njani01886.github.io/Website/">My Work</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about/Nayan.html">About me</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">DACSS</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/Njani01886/Website/blob/main/Resume/NJani_Resume.pdf">Resume</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Njani01886"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#the-data" id="toc-the-data" class="nav-link" data-scroll-target="#the-data">The Data</a></li>
  <li><a href="#eda" id="toc-eda" class="nav-link" data-scroll-target="#eda">EDA</a></li>
  <li><a href="#evaluation-metric" id="toc-evaluation-metric" class="nav-link" data-scroll-target="#evaluation-metric">Evaluation Metric</a></li>
  <li><a href="#data-preprocessing" id="toc-data-preprocessing" class="nav-link" data-scroll-target="#data-preprocessing">Data Preprocessing</a></li>
  <li><a href="#model-evaluation" id="toc-model-evaluation" class="nav-link" data-scroll-target="#model-evaluation">Model Evaluation</a>
  <ul class="collapse">
  <li><a href="#pre-processing-in-python" id="toc-pre-processing-in-python" class="nav-link" data-scroll-target="#pre-processing-in-python">Pre Processing in Python</a></li>
  <li><a href="#random-forest" id="toc-random-forest" class="nav-link" data-scroll-target="#random-forest">Random Forest</a></li>
  <li><a href="#scaling-data" id="toc-scaling-data" class="nav-link" data-scroll-target="#scaling-data">Scaling Data</a></li>
  <li><a href="#svr" id="toc-svr" class="nav-link" data-scroll-target="#svr">SVR</a></li>
  <li><a href="#ridge" id="toc-ridge" class="nav-link" data-scroll-target="#ridge">Ridge</a></li>
  <li><a href="#gradient-boosting-decision-trees-regressor" id="toc-gradient-boosting-decision-trees-regressor" class="nav-link" data-scroll-target="#gradient-boosting-decision-trees-regressor">Gradient Boosting Decision Trees Regressor</a></li>
  <li><a href="#final-evaluation-using-test-set" id="toc-final-evaluation-using-test-set" class="nav-link" data-scroll-target="#final-evaluation-using-test-set">Final Evaluation using Test Set</a></li>
  </ul></li>
  <li><a href="#comparing-models" id="toc-comparing-models" class="nav-link" data-scroll-target="#comparing-models">Comparing Models</a></li>
  <li><a href="#ethical-implications" id="toc-ethical-implications" class="nav-link" data-scroll-target="#ethical-implications">Ethical implications</a></li>
  <li><a href="#link-to-the-dataset" id="toc-link-to-the-dataset" class="nav-link" data-scroll-target="#link-to-the-dataset">Link to the dataset</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">NBA Salary Prediction</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">NBA</div>
    <div class="quarto-category">Machine Learning</div>
  </div>
  </div>

<div>
  <div class="description">
    Machine Learning for the Social Sciences
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nayan Jani </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 12, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(alr4)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tinytex)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(splines)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(aod)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaps)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Being a General Manager in the NBA comes with a ton of decisions. One of the most important decisions a GM can make is how much they pay the players on their team. It is so important to pay the players the right amount in order to build the strongest roster. Overpaying a player will hurt a teams cap space, meaning that the team will not be able to sign good players because they do not have enough money to afford them. My motivation for this project its to see if Machine Learning techniques can correctly predict a players salary. The idea is if I am able to create a model that performs well enough, then it could be used as a tool to determine a players salary for their next contract. Here I will perform different regression methods to predict players salary and then used the best method for prediction.</p>
</section>
<section id="the-data" class="level2">
<h2 class="anchored" data-anchor-id="the-data">The Data</h2>
<p>The dataset I am using comes from Kaggle. The dataset contains information about player names, time span of the contract, avg salary per year and all stats that player accumulated during NBA season before signing their next contract. The scope of the data is as follows: - There are only contracts signed since 2010/2011 season to 2019/2020 season. - Only includes players that are active in 2020/2021 season. - Doesn’t include rookie or retained contracts. - Doesn’t include contracts for player that haven’t played year before the signing the contract.</p>
<p>This is a good scope because I want to use modern players contracts for future predictions. The limitation of only including players that are active in 20/21 means that these players were able to earn multiple contracts of the 10 year span, which validates them as players who are worth to continuing paying. Having this removes players who had massive contracts early in their career and then faded out quickly after their primes.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/nba_contracts_history.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 199 Columns: 28
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (1): NAME
dbl (27): CONTRACT_START, CONTRACT_END, AVG_SALARY, AGE, GP, W, L, MIN, PTS,...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 199 × 28
   NAME  CONTR…¹ CONTR…² AVG_S…³   AGE    GP     W     L   MIN   PTS   FGM   FGA
   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Wesl…    2019    2020  2.56e6    32    69    27    42  2091   840   279   698
 2 Broo…    2015    2017  2.12e7    27    72    34    38  2100  1236   506   987
 3 DeAn…    2011    2014  1.08e7    22    80    31    49  2047   566   234   341
 4 Mark…    2015    2018  8.14e6    25    82    39    43  2581  1258   512  1100
 5 Dwig…    2018    2019  1.34e7    32    81    35    46  2463  1347   506   911
 6 Aust…    2015    2016  7.06e6    22    76    46    30  1563   530   203   496
 7 Wayn…    2016    2017  6.14e6    28    76    18    58  1615   586   218   561
 8 JaMy…    2019    2020  4.77e6    29    65    31    34  1371   611   230   476
 9 Kyle…    2015    2018  4.05e6    25    51    15    36   824   294   119   242
10 Trev…    2014    2017  8   e6    28    77    41    36  2723  1107   389   853
# … with 189 more rows, 16 more variables: `FG%` &lt;dbl&gt;, `3PM` &lt;dbl&gt;,
#   `3PA` &lt;dbl&gt;, `3P%` &lt;dbl&gt;, FTM &lt;dbl&gt;, FTA &lt;dbl&gt;, `FT%` &lt;dbl&gt;, OREB &lt;dbl&gt;,
#   DREB &lt;dbl&gt;, REB &lt;dbl&gt;, AST &lt;dbl&gt;, TOV &lt;dbl&gt;, STL &lt;dbl&gt;, BLK &lt;dbl&gt;,
#   PF &lt;dbl&gt;, `+/-` &lt;dbl&gt;, and abbreviated variable names ¹​CONTRACT_START,
#   ²​CONTRACT_END, ³​AVG_SALARY</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">c_duration =</span> CONTRACT_END <span class="sc">-</span>CONTRACT_START)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>After loading in the data I can see it has 199 instances with 29 features. Some features will be removed such as player name, CONTRACT_START and CONTRACT_end. After EDA I will remove any features that interfere with my regression analysis. The only variable mutation I did was c_duration, which is how long a players contract lasted.</p>
</section>
<section id="eda" class="level2">
<h2 class="anchored" data-anchor-id="eda">EDA</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>df, <span class="fu">aes</span>(<span class="at">x=</span>AGE, <span class="at">y=</span>AVG_SALARY)) <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Salary by Age"</span>, <span class="at">x =</span> <span class="st">"Age"</span> ,<span class="at">y=</span> <span class="st">"Average Salary"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The first relationship I wanted to visualize was Average salary and Age. Age is very important when thinking about how much to pay someone because you want to give them a contract that shows how good they can perform for that length of contract. I can see that average salary peaks at age 23 and again rises at 27 and then 30. This make sense because young players who are really good will receive a massive 2nd contract (contract after rookie deal). The peaks at 27 and 30 could be from players signing their 3rd or 4th contracts but make less money due to their age.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">dfSummary</span>(df, <span class="at">varnumbers =</span> <span class="cn">FALSE</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">plain.ascii  =</span> <span class="cn">FALSE</span>, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">style        =</span> <span class="st">"grid"</span>, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">graph.magnif =</span> <span class="fl">0.70</span>, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">valid.col    =</span> <span class="cn">FALSE</span>),</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">'render'</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">table.classes =</span> <span class="st">'table-condensed'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="container st-container">
<h3 class="anchored">Data Frame Summary</h3>
<h4 class="anchored">df</h4>
<strong>Dimensions</strong>: 199 x 29
  <br><strong>Duplicates</strong>: 1
<br>
<table class="table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline table-condensed">
  <thead>
    <tr>
      <th align="center" class="st-protect-top-border"><strong>Variable</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Stats / Values</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Freqs (% of Valid)</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Graph</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Missing</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">NAME
[character]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Kevin Durant</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Austin Rivers</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. Avery Bradley</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. Danilo Gallinari</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. Dwight Howard</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. E'Twaun Moore</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. Paul Millsap</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">8. Quinn Cook</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">9. Robin Lopez</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">10. Wayne Ellington</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">[ 128 others ]</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">4</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">2.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">168</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">84.4%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAGUAAAC8BAMAAACTY30bAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHtJREFUaN7t08kRgCAQRUFD0AxcQjD/3LwYAAOUDlT/ex+Y4i3LfDuPrXjray6G+dDU/NFy0WZOhmE0xzA/mAAZ4j0Mk72fGpP5BgyjOYYZwwSIfhimgwkQzTFMBxMgQ7yHYbL3U2My34BhpmwusP01110+hmk1NX90pj0AAXAnaGtHOAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMJO15KsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDDi6FwXAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">CONTRACT_START
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 2015.2 (2.1)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2011 ≤ 2015 ≤ 2019</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 3 (0)</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2011</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">9</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">4.5%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2012</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">16</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">8.0%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2013</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">16</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">8.0%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2014</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">21</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">10.6%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2015</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">48</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">24.1%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2016</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">35</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">17.6%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2017</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">23</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">11.6%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2018</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">20</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">10.1%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2019</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">11</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">5.5%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACYAAACcBAMAAADhQsSOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAH1JREFUSMftlcEJACEMBG3BEhI7MP33dvcIIegiBOQ+e/sckIVx0dbuR1V7xNmwSc+Ql55zYO9Zla3DjJ0hL7/T7/zFpFNHTJ+UIS81p57c4ZkEDDko+5PljszHT8qQl5pT2XdvPAw5KPkT8G6QM+Sl4FRWNtL3xsqQl5t5ADgs3X1JWLQwAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">CONTRACT_END
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 2017.5 (1.7)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2013 ≤ 2018 ≤ 2020</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 3 (0)</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2013</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">2</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">1.0%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2014</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">11</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">5.5%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2015</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">18</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">9.0%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2016</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">23</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">11.6%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2017</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">29</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">14.6%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2018</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">46</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">23.1%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2019</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">55</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">27.6%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2020</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">15</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">7.5%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACoAAACKBAMAAAAu8cWGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHlJREFUSMftlbENwCAMBFmBETAbxPvvBkVCsHgkjETFu7zmpbvCIZw7ieZIF2h0UBFJI82qpFOKnTmti6A1fUgndtx+/0jdWheUdMGZ33pLZ9ZaZtIFZzvW33p27St9LcV2dv3WA2s1Kqmh2JnXehpoVvOQr6XYzokr8pLgKeyvr+0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">AVG_SALARY
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 11073609 (7897820)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">823244 ≤ 9500000 ≤ 33599500</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 11621898 (0.7)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">172 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAG5JREFUWMPt1MEJwCAMBVBHsE4gdgPdf7dSYg+VYJKbCf9fxMPjo5CkFD+NcmmTp7vHmx7dqb9ncUNbCwfnz8ljwTu5Fg4ODk5aM1u3qT3Rcc/UOK4WDg7OkSs0/NXs6Hawm2vN7H6HN9eM+VzkPNgW0NumY9ekAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">AGE
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 25.9 (2.8)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">20 ≤ 25 ≤ 36</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 4 (0.1)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">16 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAG9JREFUWMPt1N0NABEQBGAlnA7upwT993ZBJIRZK97WzPuXSRicsx+f8qY8fp6rcV+IoaOj23eaVzhymlY6q05eDXZyKx0dHd0pDv2iM4da6WSXzxu5/jaKQwK10p3j6tWsuLp13eXWu9m1PsVZzg/5BIvYAgjYJgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMJO15KsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDDi6FwXAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">GP
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 64.2 (19.6)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1 ≤ 72 ≤ 82</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 19 (0.3)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">59 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHBJREFUWMPt1tEJwCAMBFBHaJ2gjRvU/XcrSSkBEekJhZLefQW89yfGlOJnfZIsml3HBXJVQ0dHR0dHR/eSsw0tuCsqDroAzm7Ahjsb6a5P7oTzMt0/XPbHFnNN+YPO98jYSRPvjV3pHQZyAuZ2kXMCZmtltZCT7pwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">W
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 34.2 (14.5)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 35 ≤ 64</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 20 (0.4)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">56 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHBJREFUWMPt1dEJwDAIBNCM0HaCkm7Q7L9boSJUOGru19z9CAkPwQ9trX52kKNb0N/258abu7pD45lxqK2cnFzifCHRLgI5ObnlXDjXhAttV3FhWIS7vo+8gwt+wo28yMnJyWXFNtBJOyvuOhl3lfMAK5vYEn+rRyYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">L
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 30 (13)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 31 ≤ 62</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 18.5 (0.4)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">53 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAJpJREFUWMPt1mEKgCAMBWCPUJ6g9Abt/ndr0kQFCZ8Emmzgj8iPsC1exqxfe7Uc11m9s706T0Tq1C3hwkfQ43jz9SNn+Zhdjg3swjvtcfSsQc5mowA5Sq2Z1klLYBcv1alTp24VV/76trsyYkY5SSoJ9XZXhjrmUqhjLm3+2GVxDTmfxgZ28kzYyaiqm8BxC48exys6B1Z0K9cNb6apFGZXq7QAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">MIN
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 1747 (782.4)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2 ≤ 1867 ≤ 3125</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 1125.5 (0.4)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">193 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAG5JREFUWMPt1VEKgCAMgGGPUJ0g7AZ1/7sFLR8mqzYqIvn/F0H4EARnSu3XHzdkSW12DrdszTgcDod72ZVBHXY7+Mip7yXg1LGPuuoi/c4EONxP3elDMJ0DmG66BjgcDud0MojGsJPlrsvBimu5FYCexnm88Pi6AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">PTS
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 813.4 (499.9)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 734 ≤ 2376</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 710.5 (0.6)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">186 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAIpJREFUWMPt1ssJwCAQBFBLiB0kpgT77y0RXAiLup9LZJkB8eJjUPZgSvGTe8qbK8s5mLtrrV6n6Rw5TScc3J9Omu2ZkzojuNXbrNyqk1zpsTp+Hg7O42azLblZJxzcLm402xo36tzV8TtqHe+Eg9M4mjeroz2io/+b1X17Pa71ng7XFrliDLnIeQC4q7g420DLkgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMJO15KsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDDi6FwXAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">FGM
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 300.4 (178.6)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 277 ≤ 743</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 261 (0.6)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">172 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHFJREFUWMPt1cEJwCAMhWFHqBu0dgT33620QQiYpH03Sd9/8PahiMRS8ldV7emoUZvhzn5HR0dHZzmZLLgTQbeSi38J38X6zXlnHk6/MMR5gm4lN7+ab27elY6OLrfT0wJxelc6+1Z32Mn6F9fAhsvcBZHXwXQruoTjAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">FGA
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 638.8 (374.6)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1 ≤ 572 ≤ 1643</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 553.5 (0.6)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">189 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHpJREFUWMPt1mEKgCAMhmGPkJ2gthvY/e8WDmpoES5BZHzvrwU9IGFiCP6Ldyvl9vjd8nRHDg4ODm4KJycZ2R1nkbocaSanY4Jz7GRn/HBcvgwH59293kcbnDyPdvWR3+q4+kRwcPM5/RVtTsbRTha72Z2MvY6MXc5zJ9cyss20kVlNAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">FG%
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 46.7 (8.1)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 45.5 ≤ 100</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 7 (0.2)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">131 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAFtJREFUWMPt1jEOgCAMQNEeQTgB4g3w/nfDOuigDaGTNv8P3V66lASR+KVnVVvTe4vttv0Ih8PhcDgcDoeL7KzP8shZS3G4u6zX5XEX+ZU7H5PD6WjfcHWyIvHrxx4pVIhpWCMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">3PM
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 63.6 (58.4)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 57 ≤ 272</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 91 (0.9)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">111 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAFxJREFUWMPt1LENgDAMBdGMQDYIzgjsv1sKTBPJsqFAiXXXP/3Gcin5E+2ssQ51/brD4XA43L8u+rdnF93F4XC4r877T5bzdnG4FZx1356zdnF7OZlq6uRlj8vcAJprgKAH8uevAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">3PA
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 173.9 (148.7)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 170 ≤ 657</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 241 (0.9)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">139 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAGtJREFUWMPt1MEJgDAMheGOoE4gdYN2/91EjEggpI0iSPnfJaePd0hISuMnn5l7M4nb6pGCw+FwuDduaX9h29VmO+6XThYedlUNHA53D+eNus6pxT131jp6nFWLw33k1JkGnOKruBzM5UbODtVVkYe6B2x1AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">3P%
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 29.7 (13.2)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 34.8 ≤ 50</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 11.9 (0.4)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">110 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAIFJREFUWMPt12EKgCAMBWCPUJ4g9AZ5/7vVBBejxG1QhLz3Q1D8FEVEQ5g/6ygxUbi6qF05s8PBwcHBfeHqVe1wmQgcHNzfnHx9dR13ay6L0bqOJ4WDe3L1YDkctReb46mMjgmcztE+bw5Hxc1d/0O9k+8UvZNL8DhB3nDJmOZmzgH2O20AhHPVswAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMJO15KsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDDi6FwXAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">FTM
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 149 (128.4)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 107 ≤ 720</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 143 (0.9)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">143 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAGVJREFUWMPt1cEJwCAMQFFHsBtoOoL77yZt7aFINBYKVf6/P0JE1Ln1k7O4WfPF7ekIh8PhcO+c/fV9OvtUHA6Hw83u2n+F7tqz/+Cuzcad5WxxczjtdvecNvVbJ1WhOBnsdiuXAbsGW6Bt9yrNAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">FTA
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 195.5 (162.2)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 145 ≤ 837</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 192.5 (0.8)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">162 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHhJREFUWMPt1j0OgDAIBeAeQXsCxRvY+99N7U9YwMCgMfje0LB8SYcWSCl+6Mo6mzN1t5UzcHBfdvVxk9/VY4eDg4N7yplGr+CKpSXCwcEFc1nfZ+6d3qc011Ynv+MS7qdOnGsGJ/6PV1zmK1sd/49WLt2RM8NFzgHMWnGHAF4sJwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMJO15KsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDDi6FwXAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">FT%
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 74 (15)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 76.8 ≤ 100</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 11.4 (0.2)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">147 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHNJREFUWMPt10EKgCAQQFGPUJ4g9AZ5/7vVSA6MEKXgIvt/ISg8hWihzs3f+pQPkk6X1y6d7b1OD210eigOh8PhcDgc7oMu3wI7XFSCww1x+dfscELSj519TdpPWTtZ3y4Xy0Y5b0jtZLhxhoxwobHiZu4ASpxfCbjHWyUAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">OREB
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 79.3 (72.7)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 51 ≤ 397</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 85.5 (0.9)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">117 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAGdJREFUWMPt1sEJgDAQRNEtQTuIsQT77y0oepBk44gXXf+/P4YEAjGLX96aRrVhd/OyhsPhcDgcDnc4/VdxdvoqDvcXp7ymllNWv+/6t+O7/urbnHfKK+etxnL17WiuXn3q8s2Sxa8AYR5UtBOJMJ0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">DREB
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 249 (164)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1 ≤ 209 ≤ 829</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 235 (0.7)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">167 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAHpJREFUWMPt1sEJwCAMBVBHqBu0uoHuv5s10CLSaCIUVP4/CB4eHowmxuwfm+MoVpKjdD7eCXBwcHCzOfrULr3LS4SD+8NRUQ44Igu63mjBud7Thxtx/GW0HX8oHNzi7nNOEDjaw83h6j4jdb4qHZ1zb86yvyvyuJ2TAG/uhBIQ0YMAAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">REB
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 328.3 (226.1)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1 ≤ 286 ≤ 1226</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 305 (0.7)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">169 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAIlJREFUWMPt18kNgCAQBVBLcKhAoQOn/97EIJFEwIGDy/h/QgKHdwGGZRj0h4iM9SFhxsQx8wIHd4fzW3Tucb7Bwb3ZiY7fjHOScvqL2yaxx7lg4NQ4U70qKq5awh93e3nY4twU3NFlODi4R13mpyZz55f3tYs3aquLQ+3OhlBYlil5h7QkOs1ZAdWaejQPzrPaAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">AST
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 171.7 (163.9)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 110 ≤ 839</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 137 (1)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">147 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAG9JREFUWMPt1sENgCAMQFFGUCfQuoHsv5tKwIMp0F6b/w/c3oFAKCnFT96O1dxS3ZmfcDgcDofTXBku4ndluXA4HC6KM321FZctTzDO52ajqedmVwC3qfd87ApRz3Ps+udpdf/9+px87dWJs+YidwOlLU8c3usCMAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMJO15KsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDDi6FwXAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">TOV
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 103.4 (70.9)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 85 ≤ 374</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 83 (0.7)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">138 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAG1JREFUWMPt1uEJgCAQQGFHyA1KR2j/3SJFUPT0IoqS9/5/nCB4GjN/NuRCmx23FM7vZzgcDofDJRc3ynUXxT2n2WYtp5mKw+Fw77v+qya7/tSnnHTakZOm4v7k6tvXuXrql53LWot/j77kZu4ABnt10EGUhm4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">STL
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 58.2 (37.3)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 48 ≤ 169</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 43 (0.6)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">100 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAIBJREFUWMPt12EKgCAMBWCPkJ2g9AZ1/7vFJiqYiouIWu/9muCHOETRGP2xKbOjrLaf6ex2ChwcHNytjm8kJ3eexPYLF1okd6F8n+PtXHA+T4aDg/u0a19qfddeFO5xV/1PDDgel+/aqCvPnU6XWytzXMLVHTd1kTsuo3PCRKc5B0xWm8l1X1YrAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">BLK
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 39.6 (43.3)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 23 ≤ 269</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 40 (1.1)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">83 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAFNJREFUWMPt1rsJACAMANGMoBv4GcH9d7NQQQRJBKtw1z8CIUVE/FdmOdoK09U2wuFwOBwOh8PhcP+c9T8/nXUuDrc77d5uTpvrxd32s1x5LIn/Oo3nSpArZCjFAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">PF
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 137.7 (64.3)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1 ≤ 137 ≤ 291</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 84 (0.5)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">135 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAGpJREFUWMPt1cENgCAMQFFGkA0QR2D/3TxoL9WmNoHENP9fuPDSAwFKyV9V9bu9vrcZ7hhXuLnOOg/PWXNxONx8J/c06vR+HA73dPof/Or0XNy/nPVues7bj8NldnJvWtDJilvjejBxmTsB2unboJVAgk0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDCTteSrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAw4uhcFwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">+/-
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 62.9 (227.7)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">-628 ≤ 44 ≤ 839</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 257.5 (3.6)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">171 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAG9JREFUWMPt10EKgCAQQFGPkJ6g8gZ6/7uVAzExFDURRPL/Yla+hSCiIfRfNM1aPGo4cbmuFRk4HA6Hw+FwXzl5xEx+10bF4d51Sc7jAyfrcLiW/ZrdddlcpT6nV6nP6Vb/5nTHl06WjnvnaHM9twDYj3Wr7sPo5wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMJO15KsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMTJUMjA6MTU6MTMrMDA6MDDi6FwXAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">c_duration
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 2.3 (1.1)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1 ≤ 2 ≤ 4</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 2 (0.5)</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">1</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">69</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">34.7%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">2</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">36</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">18.1%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">3</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">66</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">33.2%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 2px 0 7px;margin:0;border:0" align="right">4</td><td style="padding:0 2px;border:0;" align="left">:</td><td style="padding:0 4px 0 6px;margin:0;border:0" align="right">28</td><td style="padding:0;border:0" align="left">(</td><td style="padding:0 2px;margin:0;border:0" align="right">14.1%</td><td style="padding:0 4px 0 0;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAADEAAABJBAMAAABmw9ODAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wYMFA8N4AWgXAAAAFNJREFUOMtjYKAfUMIAClAZZWN0MCpDmQzusBbEAAIEZRCmoMvAXWA0KkOKDO4QJSd+iIk5KFDEcBsMjMoQJYM7RCmIH0VMGagLRmWoJoM7rOkBACsxrnG5pNRZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTEyVDIwOjE1OjEzKzAwOjAwk7XkqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0xMlQyMDoxNToxMyswMDowMOLoXBcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
  </tbody>
</table>
<p>Generated by <a href="https://github.com/dcomtois/summarytools">summarytools</a> 1.0.1 (<a href="https://www.r-project.org/">R</a> version 4.2.0)<br>2023-06-12</p>
</div>
</div>
</div>
<p>Here I created summary statistics of the dataset using SummaryTools. The two stats that stood out to me was the mean games played and mean minutes played. The GP and MIN mean values are 64.2 and 1747, respectively. This implies that in order to be considered for another contract, players must play most of the season and play about 21 minutes per game. I would say that if you looked at all the means and medians of each feature, then those values represent a player who will get another NBA contract.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> MIN, <span class="at">y =</span> AVG_SALARY)) <span class="sc">+</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Salary by Minutes Played"</span>, <span class="at">x =</span> <span class="st">"Mins"</span> ,<span class="at">y=</span> <span class="st">"Average Salary"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Next I wanted to check the relationship between Minutes played and Average Salary. I can see that their relationship is non-linear but positive. I see an increase of salary once a player is playing roughly 1750 minutes but drops off around 2500 minutes.The positive relationship could suggest that minutes played can be a good predictor.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">+/-</span><span class="st">`</span>, <span class="at">y =</span> AVG_SALARY)) <span class="sc">+</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Salary by Plus/Minus"</span>, <span class="at">x =</span> <span class="st">"+/-"</span> ,<span class="at">y=</span> <span class="st">"Average Salary"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here I wanted to see the relationship between +/- and Average salary. +/- is a sports statistic used to measure a player’s impact on the game, represented by the difference between their team’s total scoring versus their opponent’s when the player is in the game. I can see the relationship between +/- and Average Salary is non linear. I can see that there are players with awful +/- that are getting payed more than players with high +/-. I also see a lot of data grouped around 0 with low salaries, meaning these players probably did not play much.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">+/-</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 29
  NAME   CONTR…¹ CONTR…² AVG_S…³   AGE    GP     W     L   MIN   PTS   FGM   FGA
  &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Wayne…    2016    2017  6.14e6    28    76    18    58  1615   586   218   561
2 JaVal…    2012    2015  1.13e7    24    61    22    39  1535   691   307   552
3 Gordo…    2014    2017  1.90e7    24    77    23    54  2800  1248   426  1032
4 Jorda…    2016    2019  1.25e7    24    79    17    62  2552  1225   475  1098
5 Derri…    2014    2017  1.2 e7    22    73    25    48  2201   970   390   747
6 JaKar…    2015    2016  1.10e6    22    74    17    57  1131   386   146   346
7 Nikol…    2015    2018  1.2 e7    24    74    21    53  2529  1428   631  1206
# … with 17 more variables: `FG%` &lt;dbl&gt;, `3PM` &lt;dbl&gt;, `3PA` &lt;dbl&gt;, `3P%` &lt;dbl&gt;,
#   FTM &lt;dbl&gt;, FTA &lt;dbl&gt;, `FT%` &lt;dbl&gt;, OREB &lt;dbl&gt;, DREB &lt;dbl&gt;, REB &lt;dbl&gt;,
#   AST &lt;dbl&gt;, TOV &lt;dbl&gt;, STL &lt;dbl&gt;, BLK &lt;dbl&gt;, PF &lt;dbl&gt;, `+/-` &lt;dbl&gt;,
#   c_duration &lt;dbl&gt;, and abbreviated variable names ¹​CONTRACT_START,
#   ²​CONTRACT_END, ³​AVG_SALARY</code></pre>
</div>
</div>
<p>Here I investigate the players with terrible +/-. Some of these players are getting paid well but their teams are so bad that their +/- statistic is negative. This makes me believe that non-linear regression methods would be useful if this feature is used for prediction of salary.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">7</span>),</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">upper=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">'cor'</span>,<span class="at">size=</span><span class="dv">5</span>)),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower=</span><span class="fu">list</span>(<span class="at">combo=</span><span class="fu">wrap</span>(<span class="st">"facethist"</span>,<span class="at">bins=</span><span class="dv">30</span>)),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">diag=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">"densityDiag"</span>),<span class="at">alpha=</span><span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span><span class="sc">:</span><span class="dv">13</span>),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">upper=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">'cor'</span>,<span class="at">size=</span><span class="dv">5</span>)),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower=</span><span class="fu">list</span>(<span class="at">combo=</span><span class="fu">wrap</span>(<span class="st">"facethist"</span>,<span class="at">bins=</span><span class="dv">30</span>)),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">diag=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">"densityDiag"</span>),<span class="at">alpha=</span><span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">22</span><span class="sc">:</span><span class="dv">26</span>),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">upper=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">'cor'</span>,<span class="at">size=</span><span class="dv">5</span>)),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower=</span><span class="fu">list</span>(<span class="at">combo=</span><span class="fu">wrap</span>(<span class="st">"facethist"</span>,<span class="at">bins=</span><span class="dv">30</span>)),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">diag=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">"densityDiag"</span>),<span class="at">alpha=</span><span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">upper=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">'cor'</span>,<span class="at">size=</span><span class="dv">5</span>)),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower=</span><span class="fu">list</span>(<span class="at">combo=</span><span class="fu">wrap</span>(<span class="st">"facethist"</span>,<span class="at">bins=</span><span class="dv">30</span>)),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">diag=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">"densityDiag"</span>),<span class="at">alpha=</span><span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggcorrplot</span>(<span class="at">hc.order =</span> <span class="cn">TRUE</span>, <span class="at">type =</span> <span class="st">"lower"</span>,<span class="at">outline.col =</span> <span class="st">"white"</span>,<span class="at">lab=</span><span class="cn">TRUE</span>, <span class="at">lab_size=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here I created 3 ggpairs plots and a correlation matrix to investigate the correlations between my target variable and and features. I am looking for strong and weak correlations. Based on the correlation matrix, I see a mixture or strong and weak correlations between features and my target variable, Average Salary. This makes me believe that non linear regression methods will perform better than linear regression methods on this dataset.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>AVG_SALARY)) <span class="sc">+</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept=</span><span class="fu">mean</span>(AVG_SALARY)),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">color=</span><span class="st">"blue"</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">size=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="NBA_Salary_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(AVG_SALARY) <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(AVG_SALARY))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
       mean
      &lt;dbl&gt;
1 11073609.</code></pre>
</div>
</div>
<p>Here I wanted to look at the distribution of my target variable. I can see the distribution is not normal and skewed right. Seeing this makes me think that more flexible methods will work better when I create my regression models.</p>
</section>
<section id="evaluation-metric" class="level1">
<h1>Evaluation Metric</h1>
<p>For my evaluation metric, I will use Root Mean Squared Logarithmic Error (RMSLE). I am choosing RMSLE because my predicted and actual values of my target variable (salary) are large integers, so by taking the logs of them it will remove any penalization of those huge differences between those values. My target variable has a skewed distribution and a large range, so RMSLE is a good fit because prediction errors of low and high salary will be treated evenly.</p>
</section>
<section id="data-preprocessing" class="level1">
<h1>Data Preprocessing</h1>
<p>My first step in pre-processing my dataset was to remove any features based off of logic. I removed the players names, their wins, their loses, their contract start year and contract end year. I removed wins and loses because that is a team statistic and I do not believe that will have an effect in determining salary. I removed contract start and end years because I created a variable using both of them. The variable I created was c_duration, which is the difference between CONTRACT_START and CONTRACT_END. I did not remove any other features from my dataset because all remaining features are related to the players performance and availability during a season. I did not have any missing data in my dataset so I do not need any data imputation. In order to use Ridge and SVM regression, I had to scale my training, validation and test data using the StandardScaler(). For my model selection and analysis, I will be using Python.</p>
</section>
<section id="model-evaluation" class="level1">
<h1>Model Evaluation</h1>
<p>The methods I will use are SVM, Ridge, Random Forrest, and Gradient Boosting Decision Trees for regression. I will use Grid Search cross-validation with 5 folds in order to tune the hyperparmaters for each model. In this section I will provide the best parameters selected from Grid Search CV, training error, validation error, and testing error for all methods.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> OrdinalEncoder</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> Ridge</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> Lasso</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> GridSearchCV</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> make_scorer, mean_squared_log_error, mean_squared_error</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.spatial.distance <span class="im">import</span> cdist</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> mode</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> LabelEncoder</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> MinMaxScaler</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="pre-processing-in-python" class="level2">
<h2 class="anchored" data-anchor-id="pre-processing-in-python">Pre Processing in Python</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"_data/nba_contracts_history.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating variable c_duration</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"c_duration"</span>] <span class="op">=</span> df[<span class="st">"CONTRACT_END"</span>] <span class="op">-</span> df[<span class="st">"CONTRACT_START"</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creates set of features I will use</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>features <span class="op">=</span> df.drop([<span class="st">"NAME"</span>,<span class="st">"CONTRACT_START"</span>, <span class="st">"CONTRACT_END"</span>,<span class="st">"AVG_SALARY"</span>,<span class="st">"W"</span>,<span class="st">"L"</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sub-setting my target variable, Average Salary</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>target <span class="op">=</span> df[<span class="st">'AVG_SALARY'</span>].to_numpy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Here is my data splits, 70% training, 15% validation and 15% Test.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>X_train, X_test, Y_train, Y_test <span class="op">=</span> train_test_split(features, target, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>X_valid, X_test, Y_valid, Y_test <span class="op">=</span> train_test_split(X_test, Y_test, test_size<span class="op">=</span><span class="fl">0.5</span>, random_state<span class="op">=</span> <span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Here I check to see if the data is split up correctly.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(X_train.shape, X_valid.shape, X_test.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(139, 23) (30, 23) (30, 23)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Y_train.shape, Y_valid.shape, Y_test.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(139,) (30,) (30,)</code></pre>
</div>
</div>
<p>Here I use the make_scorer() function so that I can call RMSLE during Grid Search Cross Validation.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>RMSLE <span class="op">=</span> make_scorer(mean_squared_log_error, squared<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="random-forest" class="level2">
<h2 class="anchored" data-anchor-id="random-forest">Random Forest</h2>
<p>For hyperparameter tuning, I chose to tune n_estimators, max_features, min_samples_split and min_sample_leafs. From Sckit learn’s documentation, it states that n_estimators and max_features are the main parameters to tune, so I will follow the documentations suggestion. I included min_sample_split and min_sample_leafs because I want to control my model for overfitting. By increasing the values of these two parameters, it will help prevent my model from overfitting.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>RF <span class="op">=</span> RandomForestRegressor()</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>param_grid_RF <span class="op">=</span> {</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'n_estimators'</span>: [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">400</span>],</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>     <span class="st">'max_features'</span>: [<span class="va">None</span>, <span class="fl">1.0</span>],</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>     <span class="st">'min_samples_split'</span>: [<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span> ,<span class="dv">8</span>],</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'min_samples_leaf'</span>: [<span class="dv">1</span>, <span class="dv">2</span> ,<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>]}</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>gridRF<span class="op">=</span> GridSearchCV(RF, param_grid_RF,scoring <span class="op">=</span> RMSLE, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>gridRF.fit(X_train, Y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>GridSearchCV(cv=5, estimator=RandomForestRegressor(),
             param_grid={'max_features': [None, 1.0],
                         'min_samples_leaf': [1, 2, 4, 6, 8],
                         'min_samples_split': [2, 4, 6, 8],
                         'n_estimators': [100, 200, 300, 400]},
             scoring=make_scorer(mean_squared_log_error, squared=False))</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Best parameters:"</span>,gridRF.best_params_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Best parameters: {'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 6, 'n_estimators': 100}</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Training error (RMSLE):"</span>, gridRF.best_score_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Training error (RMSLE): 0.5703407520704454</code></pre>
</div>
</div>
<p>Checking Validation Error for Random Forests.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>best_model_RF <span class="op">=</span> gridRF.best_estimator_</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>predict_y_RF <span class="op">=</span> best_model_RF.predict(X_valid)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>RF_rmsle <span class="op">=</span> mean_squared_log_error(Y_valid, predict_y_RF,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Validation error (RMSLE):"</span>,RF_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Validation error (RMSLE): 0.45497526641066893</code></pre>
</div>
</div>
</section>
<section id="scaling-data" class="level2">
<h2 class="anchored" data-anchor-id="scaling-data">Scaling Data</h2>
<p>Scaling data for SVM and Ridge Regression.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>X_train_scaled <span class="op">=</span> scaler.fit_transform(X_train)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>X_valid_scaled <span class="op">=</span> scaler.transform(X_valid)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>X_test_scaled <span class="op">=</span> scaler.transform(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="svr" class="level2">
<h2 class="anchored" data-anchor-id="svr">SVR</h2>
<p>The hyperparameters I tuned from SVR are C, gamma and kernel. I needed to tune for Kernel so that my model finds the best hyper plane that fits the datapoints from my target variable. The kernel will deal with the non-linear relationship on between my features and target variable. Tuning for C and gamma will help my model from overfitting.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.svm <span class="im">import</span> SVR</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>SVR <span class="op">=</span> SVR()</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>param_grid_SVR <span class="op">=</span> {<span class="st">'C'</span>: [<span class="fl">0.1</span>, <span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>],</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">'gamma'</span>: [<span class="fl">0.0001</span>, <span class="fl">0.001</span>,<span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="dv">1</span>],</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>              <span class="st">'kernel'</span>: [<span class="st">'rbf'</span>, <span class="st">'poly'</span>]}</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>gridSVR<span class="op">=</span> GridSearchCV(SVR, param_grid_SVR, scoring <span class="op">=</span> RMSLE, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>gridSVR.fit(X_train_scaled, Y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>GridSearchCV(cv=5, estimator=SVR(),
             param_grid={'C': [0.1, 1, 10, 100, 1000],
                         'gamma': [0.0001, 0.001, 0.01, 0.1, 1],
                         'kernel': ['rbf', 'poly']},
             scoring=make_scorer(mean_squared_log_error, squared=False))</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Best parameters:"</span>,gridSVR.best_params_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Best parameters: {'C': 0.1, 'gamma': 0.0001, 'kernel': 'poly'}</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Training error (RMSLE):"</span>, gridSVR.best_score_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Training error (RMSLE): 1.0135970157480874</code></pre>
</div>
</div>
<p>Checking Validation Error for SVR.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>best_model_SVR <span class="op">=</span> gridSVR.best_estimator_</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>predict_y_SVR <span class="op">=</span> best_model_SVR.predict(X_valid_scaled)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>SVR_rmsle <span class="op">=</span> mean_squared_log_error(Y_valid, predict_y_SVR,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Validation error (RMSLE):"</span>, SVR_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Validation error (RMSLE): 0.6805718407616901</code></pre>
</div>
</div>
</section>
<section id="ridge" class="level2">
<h2 class="anchored" data-anchor-id="ridge">Ridge</h2>
<p>For Ridge Regression, The only hyperparameter I tuned was alpha, which is the penalty term. I chose to search through small, intermediate, and large values of alpha.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>ridge <span class="op">=</span> Ridge()</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>param_grid_ridge <span class="op">=</span> {<span class="st">'alpha'</span>:np.concatenate((np.arange(<span class="fl">0.1</span>,<span class="dv">2</span>,<span class="fl">0.1</span>), np.arange(<span class="dv">2</span>, <span class="dv">5</span>, <span class="fl">0.5</span>), np.arange(<span class="dv">5</span>, <span class="dv">105</span>, <span class="dv">5</span>)))}</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>gridRidge <span class="op">=</span> GridSearchCV(ridge, param_grid_ridge,scoring <span class="op">=</span> RMSLE, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>gridRidge.fit(X_train_scaled, Y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>GridSearchCV(cv=5, estimator=Ridge(),
             param_grid={'alpha': array([  0.1,   0.2,   0.3,   0.4,   0.5,   0.6,   0.7,   0.8,   0.9,
         1. ,   1.1,   1.2,   1.3,   1.4,   1.5,   1.6,   1.7,   1.8,
         1.9,   2. ,   2.5,   3. ,   3.5,   4. ,   4.5,   5. ,  10. ,
        15. ,  20. ,  25. ,  30. ,  35. ,  40. ,  45. ,  50. ,  55. ,
        60. ,  65. ,  70. ,  75. ,  80. ,  85. ,  90. ,  95. , 100. ])},
             scoring=make_scorer(mean_squared_log_error, squared=False))</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Best parameters:"</span>, gridRidge.best_params_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Best parameters: {'alpha': 100.0}</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Training error (RMSLE):"</span>, gridRidge.best_score_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Training error (RMSLE): 0.5579904916871834</code></pre>
</div>
</div>
<p>Checking Validation Error for Ridge Regression.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>best_model_ridge <span class="op">=</span> gridRidge.best_estimator_</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>predict_y_ridge <span class="op">=</span> best_model_ridge.predict(X_valid_scaled)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>ridge_rmsle <span class="op">=</span> mean_squared_log_error(Y_valid, predict_y_ridge,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Validation error (RMSLE):"</span>, ridge_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Validation error (RMSLE): 0.5200462148165859</code></pre>
</div>
</div>
</section>
<section id="gradient-boosting-decision-trees-regressor" class="level2">
<h2 class="anchored" data-anchor-id="gradient-boosting-decision-trees-regressor">Gradient Boosting Decision Trees Regressor</h2>
<p>The hyperparameters I chose to tune for the Gradient Boosting Decision Trees Regressor are n_estimators, learning_rate, and max_depth. GBDTR uses multiple shallow decision trees as weak learners to predict the residuals of the decision trees instead of the target variable. The idea here is use gradient descent to update the residuals after every tree until the model has run through all available trees (n_estimators). Learning rate controls how much the residuals are updated from tree to tree, which can also be described as the “size” of the step in gradient descent. Smaller values of learning rate will allow my model to generalize better on the validation and test data. Max_depth refers to the depth of each tree, which is important because it determines how weak the trees are in the ensemble.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> GradientBoostingRegressor</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>GBR <span class="op">=</span> GradientBoostingRegressor()</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>param_grid_GBR <span class="op">=</span> {</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'n_estimators'</span>: [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">400</span>],</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>     <span class="st">'learning_rate'</span>: [ <span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>,<span class="fl">0.3</span>],</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>     <span class="st">'max_depth'</span>: [<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>]}</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>gridGBR<span class="op">=</span> GridSearchCV(GBR, param_grid_GBR,scoring <span class="op">=</span> RMSLE, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>gridGBR.fit(X_train, Y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>GridSearchCV(cv=5, estimator=GradientBoostingRegressor(),
             param_grid={'learning_rate': [0.01, 0.1, 0.2, 0.3],
                         'max_depth': [3, 4, 5, 6, 7, 8],
                         'n_estimators': [100, 200, 300, 400]},
             scoring=make_scorer(mean_squared_log_error, squared=False))</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Best parameters:"</span>, gridGBR.best_params_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Best parameters: {'learning_rate': 0.01, 'max_depth': 6, 'n_estimators': 100}</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Training error (RMSLE):"</span>, gridGBR.best_score_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Training error (RMSLE): 0.7298632180107352</code></pre>
</div>
</div>
<p>Checking Validation Error for Gradient Boosting Decision Trees.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>best_model_GBR <span class="op">=</span> gridGBR.best_estimator_</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>predict_y_GBR <span class="op">=</span> best_model_GBR.predict(X_valid)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>GBR_rmsle <span class="op">=</span> mean_squared_log_error(Y_valid, predict_y_GBR,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Validation error (RMSLE):"</span>, GBR_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Validation error (RMSLE): 0.5732402442589972</code></pre>
</div>
</div>
</section>
<section id="final-evaluation-using-test-set" class="level2">
<h2 class="anchored" data-anchor-id="final-evaluation-using-test-set">Final Evaluation using Test Set</h2>
<p>Checking Test Error for all models. Again I will list the best parameters selected from Grid Search CV.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>best_model_RF</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>RandomForestRegressor(max_features=None, min_samples_split=6)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>predict_test_RF <span class="op">=</span> best_model_RF.predict(X_test)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>RF_test_rmsle <span class="op">=</span> mean_squared_log_error(Y_test, predict_test_RF,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Test error (RMSLE):"</span>, RF_test_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Test error (RMSLE): 0.4986784364298934</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>best_model_SVR </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>SVR(C=0.1, gamma=0.0001, kernel='poly')</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>predict_test_SVR <span class="op">=</span> best_model_SVR.predict(X_test_scaled)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>SVR_test_rmsle <span class="op">=</span> mean_squared_log_error(Y_test, predict_test_SVR,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Test error (RMSLE):"</span>, SVR_test_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Test error (RMSLE): 1.0137954511265557</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>best_model_ridge</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Ridge(alpha=100.0)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>predict_test_ridge <span class="op">=</span> best_model_ridge.predict(X_test_scaled)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>ridge_test_rmsle <span class="op">=</span> mean_squared_log_error(Y_test, predict_test_ridge,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Test error (RMSLE):"</span>, ridge_test_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Test error (RMSLE): 0.5376660192539188</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>best_model_GBR</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>GradientBoostingRegressor(learning_rate=0.01, max_depth=6)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>predict_test_GBR <span class="op">=</span> best_model_GBR.predict(X_test)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>GBR_test_rmsle <span class="op">=</span> mean_squared_log_error(Y_test, predict_test_GBR,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Test error (RMSLE):"</span>, GBR_test_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Test error (RMSLE): 0.7875342011788629</code></pre>
</div>
</div>
</section>
</section>
<section id="comparing-models" class="level1">
<h1>Comparing Models</h1>
<p>Here I printed all training, validation, and testing errors for all models.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"training error Random Forest (RMSLE):"</span>,gridRF.best_score_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>training error Random Forest (RMSLE): 0.5703407520704454</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"training error SVR (RMSLE):"</span>,gridSVR.best_score_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>training error SVR (RMSLE): 1.0135970157480874</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"training error Ridge (RMSLE):"</span>,gridRidge.best_score_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>training error Ridge (RMSLE): 0.5579904916871834</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"training error GBR (RMSLE):"</span>,gridGBR.best_score_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>training error GBR (RMSLE): 0.7298632180107352</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"validation error Random Forest (RMSLE):"</span>,RF_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>validation error Random Forest (RMSLE): 0.45497526641066893</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"validation error SVR (RMSLE):"</span>,SVR_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>validation error SVR (RMSLE): 0.6805718407616901</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"validation error Ridge (RMSLE):"</span>,ridge_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>validation error Ridge (RMSLE): 0.5200462148165859</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"validation error GBR (RMSLE):"</span>,GBR_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>validation error GBR (RMSLE): 0.5732402442589972</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"test error Random Forest (RMSLE):"</span>,RF_test_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>test error Random Forest (RMSLE): 0.4986784364298934</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"test error SVR (RMSLE):"</span>,SVR_test_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>test error SVR (RMSLE): 1.0137954511265557</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"test error Ridge (RMSLE):"</span>, ridge_test_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>test error Ridge (RMSLE): 0.5376660192539188</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"test error GBR (RMSLE):"</span>,GBR_test_rmsle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>test error GBR (RMSLE): 0.7875342011788629</code></pre>
</div>
</div>
<p>Based on my results, the Random Forrest Regression performs the best out of all my methods. I believe it performs the best due to the fact that the hyperparameters dealing with overfitting. The hyperparameter min_samples_split reduces the number of splits that are happening in the decision trees, which shortens the depth of the tree. Having shorter tree allows for the model to generalize better because it will not rely on the structure of the training data as much. Therefore, this model has a good bias-variance trade off. This method is high in flexibility. Though this method performs the best, it is not the best for interpretability.</p>
<p>SVR performs the worst based on my results. I believe it performs poorly because of the low value of C selected from Cross-validation. In my model, the value of C that was selected is 0.1, which means the model allows for little misclassification of the training data. This leads to the model overfitting and having high variance because the model is too reliant on the training data.This method is high in flexibility. This model also has low interpretability.</p>
<p>Ridge Regression perform second best out of all my methods. I believe it performs well because of the high value of the tuning parameter. Alpha=100 helps reduce the variance in the the model. It seems that alpha=100 also keeps bias from increasing significantly. In terms of interpretability, Ridge is the most interpretable out of all of my methods. This method is low in flexibility.</p>
<p>Gradient Boosting Decision Trees Regressor did not perform well compared to Ridge and Random Forest. The reason why it performed poorly is because both the learning rate and number of estimators are too low. I can say that the model is biased and underfitting because when the learning rate is low, the residuals are only updated slightly before constructing the next tree. Here the learning rate is too low, so once the model reaches 100 trees (n_estimators), gradient descent will not reach the global minimum because of the lack of trees. This combination of low learning rate and n_estimators does not allow my model to reach the optimum error rate. This method is high in flexibility. In terms of interpretability, GBDTR has low interpretability.</p>
</section>
<section id="ethical-implications" class="level1">
<h1>Ethical implications</h1>
<p>One concern I have with my model is that it is only trained on players data from the previous season. Although this seems like the logical way of determining a players salary for the future, there are many other factors that go into determining a salary rather than just statistical information. For example, sometimes a players salary can be influenced by what other teams are giving their players. Another example includes players personal accolades, such as first team all NBA, All star team, defensive team of the year etc, can greatly increase ones salary if they earn one of these honors. Another concern I have with my model is that it does not include advanced metrics that capture more capabilities of a player. For example, My data does not include stats that determine how good a player is when defending on the perimeter, which could be a deal breaker when trying to get a good salary. Another concern is that some of contract data is from the early 2010s. Though this is somewhat recent, pay in the NBA increases every year so some of data instances are not scaled up to what the pay should be if this model was used in 2023. My last concern is that my dataset is really small. This is the case because there are only a fraction of players who have earned multiple contracts within the timespan of my data.</p>
<p>How to Address the Issues:</p>
<ul>
<li>More data from the 2021-2022 and 2022-2023 that follows the scope of our data discussed earlier would be useful to make my model generalize better for future predictions.</li>
<li>add more features that related to the advanced statistics that are not covered in the base statistics.</li>
<li>Use this model as a GUIDELINE for determining salary. There will always be external factors that have to due with salary market in the NBA that cannot be covered in the model.</li>
</ul>
</section>
<section id="link-to-the-dataset" class="level1">
<h1>Link to the dataset</h1>
<p>https://www.kaggle.com/datasets/jarosawjaworski/current-nba-players-contracts-history</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/DACSS_601_August2022_v2" data-repo-id="R_kgDOH1g84A" data-category="Blog" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb105" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "NBA Salary Prediction"</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Nayan Jani"</span></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Machine Learning for the Social Sciences"</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "06/12/2023"</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a><span class="co">  - NBA</span></span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - Machine Learning</span></span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-24"><a href="#cb105-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(alr4)</span>
<span id="cb105-25"><a href="#cb105-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tinytex)</span>
<span id="cb105-26"><a href="#cb105-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb105-27"><a href="#cb105-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb105-28"><a href="#cb105-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb105-29"><a href="#cb105-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(splines)</span>
<span id="cb105-30"><a href="#cb105-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(aod)</span>
<span id="cb105-31"><a href="#cb105-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb105-32"><a href="#cb105-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb105-33"><a href="#cb105-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaps)</span>
<span id="cb105-34"><a href="#cb105-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb105-35"><a href="#cb105-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb105-36"><a href="#cb105-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-37"><a href="#cb105-37" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb105-38"><a href="#cb105-38" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-39"><a href="#cb105-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-40"><a href="#cb105-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-41"><a href="#cb105-41" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb105-42"><a href="#cb105-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-43"><a href="#cb105-43" aria-hidden="true" tabindex="-1"></a>Being a General Manager in the NBA comes with a ton of decisions. One of the most important decisions a GM can make is how much they pay the players on their team. It is so important to pay the players the right amount in order to build the strongest roster. Overpaying a player will hurt a teams cap space, meaning that the team will not be able to sign good players because they do not have enough money to afford them. My motivation for this project its to see if Machine Learning techniques can correctly predict a players salary. The idea is if I am able to create a model that performs well enough, then it could be used as a tool to determine a players salary for their next contract. Here I will perform different regression methods to predict players salary and then used the best method for prediction.</span>
<span id="cb105-44"><a href="#cb105-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-45"><a href="#cb105-45" aria-hidden="true" tabindex="-1"></a><span class="fu">## The Data</span></span>
<span id="cb105-46"><a href="#cb105-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-47"><a href="#cb105-47" aria-hidden="true" tabindex="-1"></a>The dataset I am using comes from Kaggle. The dataset contains information about player names, time span of the contract, avg salary per year and all stats that player accumulated during NBA season before signing their next contract. The scope of the data is as follows:</span>
<span id="cb105-48"><a href="#cb105-48" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>There are only contracts signed since 2010/2011 season to 2019/2020 season.</span>
<span id="cb105-49"><a href="#cb105-49" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Only includes players that are active in 2020/2021 season.</span>
<span id="cb105-50"><a href="#cb105-50" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Doesn't include rookie or retained contracts.</span>
<span id="cb105-51"><a href="#cb105-51" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Doesn't include contracts for player that haven't played year before the signing the contract.</span>
<span id="cb105-52"><a href="#cb105-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-53"><a href="#cb105-53" aria-hidden="true" tabindex="-1"></a>This is a good scope because I want to use modern players contracts for future predictions. The limitation of only including players that are active in 20/21 means that these players were able to earn multiple contracts of the 10 year span, which validates them as players who are worth to continuing paying. Having this removes players who had massive contracts early in their career and then faded out quickly after their primes. </span>
<span id="cb105-54"><a href="#cb105-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-55"><a href="#cb105-55" aria-hidden="true" tabindex="-1"></a><span class="in">```{r cars}</span></span>
<span id="cb105-56"><a href="#cb105-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-57"><a href="#cb105-57" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/nba_contracts_history.csv"</span>)</span>
<span id="cb105-58"><a href="#cb105-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-59"><a href="#cb105-59" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-60"><a href="#cb105-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-61"><a href="#cb105-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-64"><a href="#cb105-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb105-65"><a href="#cb105-65" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb105-66"><a href="#cb105-66" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-67"><a href="#cb105-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-68"><a href="#cb105-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-71"><a href="#cb105-71" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb105-72"><a href="#cb105-72" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">c_duration =</span> CONTRACT_END <span class="sc">-</span>CONTRACT_START)</span>
<span id="cb105-73"><a href="#cb105-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-74"><a href="#cb105-74" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-75"><a href="#cb105-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-76"><a href="#cb105-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-77"><a href="#cb105-77" aria-hidden="true" tabindex="-1"></a>After loading in the data I can see it has 199 instances with 29 features. Some features will be removed such as player name, CONTRACT_START and CONTRACT_end. After EDA I will remove any features that interfere with my regression analysis. The only variable mutation I did was c_duration, which is how long a players contract lasted.</span>
<span id="cb105-78"><a href="#cb105-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-79"><a href="#cb105-79" aria-hidden="true" tabindex="-1"></a><span class="fu">## EDA</span></span>
<span id="cb105-80"><a href="#cb105-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-83"><a href="#cb105-83" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb105-84"><a href="#cb105-84" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>df, <span class="fu">aes</span>(<span class="at">x=</span>AGE, <span class="at">y=</span>AVG_SALARY)) <span class="sc">+</span></span>
<span id="cb105-85"><a href="#cb105-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb105-86"><a href="#cb105-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Salary by Age"</span>, <span class="at">x =</span> <span class="st">"Age"</span> ,<span class="at">y=</span> <span class="st">"Average Salary"</span>)</span>
<span id="cb105-87"><a href="#cb105-87" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-88"><a href="#cb105-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-89"><a href="#cb105-89" aria-hidden="true" tabindex="-1"></a>The first relationship I wanted to visualize was Average salary and Age. Age is very important when thinking about how much to pay someone because you want to give them a contract that shows how good they can perform for that length of contract. I can see that average salary peaks at age 23 and again rises at 27 and then 30. This make sense because young players who are really good will receive a massive 2nd contract (contract after rookie deal). The peaks at 27 and 30 could be from players signing their 3rd or 4th contracts but make less money due to their age. </span>
<span id="cb105-90"><a href="#cb105-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-93"><a href="#cb105-93" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb105-94"><a href="#cb105-94" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">dfSummary</span>(df, <span class="at">varnumbers =</span> <span class="cn">FALSE</span>,</span>
<span id="cb105-95"><a href="#cb105-95" aria-hidden="true" tabindex="-1"></a>                        <span class="at">plain.ascii  =</span> <span class="cn">FALSE</span>, </span>
<span id="cb105-96"><a href="#cb105-96" aria-hidden="true" tabindex="-1"></a>                        <span class="at">style        =</span> <span class="st">"grid"</span>, </span>
<span id="cb105-97"><a href="#cb105-97" aria-hidden="true" tabindex="-1"></a>                        <span class="at">graph.magnif =</span> <span class="fl">0.70</span>, </span>
<span id="cb105-98"><a href="#cb105-98" aria-hidden="true" tabindex="-1"></a>                        <span class="at">valid.col    =</span> <span class="cn">FALSE</span>),</span>
<span id="cb105-99"><a href="#cb105-99" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">'render'</span>,</span>
<span id="cb105-100"><a href="#cb105-100" aria-hidden="true" tabindex="-1"></a>      <span class="at">table.classes =</span> <span class="st">'table-condensed'</span>)</span>
<span id="cb105-101"><a href="#cb105-101" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-102"><a href="#cb105-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-103"><a href="#cb105-103" aria-hidden="true" tabindex="-1"></a>Here I created summary statistics of the dataset using SummaryTools. The two stats that stood out to me was the mean games played and mean minutes played. The GP and MIN mean values are 64.2 and 1747, respectively. This implies that in order to be considered for another contract, players must play most of the season and play about 21 minutes per game. I would say that if you looked at all the means and medians of each feature, then those values represent a player who will get another NBA contract.</span>
<span id="cb105-104"><a href="#cb105-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-105"><a href="#cb105-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-106"><a href="#cb105-106" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE}</span></span>
<span id="cb105-107"><a href="#cb105-107" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-108"><a href="#cb105-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-109"><a href="#cb105-109" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> MIN, <span class="at">y =</span> AVG_SALARY)) <span class="sc">+</span> </span>
<span id="cb105-110"><a href="#cb105-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb105-111"><a href="#cb105-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb105-112"><a href="#cb105-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Salary by Minutes Played"</span>, <span class="at">x =</span> <span class="st">"Mins"</span> ,<span class="at">y=</span> <span class="st">"Average Salary"</span>)</span>
<span id="cb105-113"><a href="#cb105-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-114"><a href="#cb105-114" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-115"><a href="#cb105-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-116"><a href="#cb105-116" aria-hidden="true" tabindex="-1"></a>Next I wanted to check the relationship between Minutes played and Average Salary. I can see that their relationship is non-linear but positive. I see an increase of salary once a player is playing roughly 1750 minutes but drops off around 2500 minutes.The positive relationship could suggest that minutes played can be a good predictor.</span>
<span id="cb105-117"><a href="#cb105-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-118"><a href="#cb105-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-119"><a href="#cb105-119" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE}</span></span>
<span id="cb105-120"><a href="#cb105-120" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-121"><a href="#cb105-121" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">+/-</span><span class="st">`</span>, <span class="at">y =</span> AVG_SALARY)) <span class="sc">+</span> </span>
<span id="cb105-122"><a href="#cb105-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb105-123"><a href="#cb105-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb105-124"><a href="#cb105-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Salary by Plus/Minus"</span>, <span class="at">x =</span> <span class="st">"+/-"</span> ,<span class="at">y=</span> <span class="st">"Average Salary"</span>)</span>
<span id="cb105-125"><a href="#cb105-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-126"><a href="#cb105-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-127"><a href="#cb105-127" aria-hidden="true" tabindex="-1"></a>Here I wanted to see the relationship between +/- and Average salary. +/- is  a sports statistic used to measure a player's impact on the game, represented by the difference between their team's total scoring versus their opponent's when the player is in the game. I can see the relationship between +/- and Average Salary is non linear. I can see that there are players with awful +/- that are getting payed more than players with high +/-. I also see a lot of data grouped around 0 with low salaries, meaning these players probably did not play much.</span>
<span id="cb105-128"><a href="#cb105-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-129"><a href="#cb105-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-132"><a href="#cb105-132" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb105-133"><a href="#cb105-133" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">+/-</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">300</span>)</span>
<span id="cb105-134"><a href="#cb105-134" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-135"><a href="#cb105-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-136"><a href="#cb105-136" aria-hidden="true" tabindex="-1"></a>Here I investigate the players with terrible +/-. Some of these players are getting paid well but their teams are so bad that their +/- statistic is negative. This makes me believe that non-linear regression methods would be useful if this feature is used for prediction of salary.</span>
<span id="cb105-137"><a href="#cb105-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-138"><a href="#cb105-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-139"><a href="#cb105-139" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE}</span></span>
<span id="cb105-140"><a href="#cb105-140" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-141"><a href="#cb105-141" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb105-142"><a href="#cb105-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">7</span>),</span>
<span id="cb105-143"><a href="#cb105-143" aria-hidden="true" tabindex="-1"></a>          <span class="at">upper=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">'cor'</span>,<span class="at">size=</span><span class="dv">5</span>)),</span>
<span id="cb105-144"><a href="#cb105-144" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower=</span><span class="fu">list</span>(<span class="at">combo=</span><span class="fu">wrap</span>(<span class="st">"facethist"</span>,<span class="at">bins=</span><span class="dv">30</span>)),</span>
<span id="cb105-145"><a href="#cb105-145" aria-hidden="true" tabindex="-1"></a>          <span class="at">diag=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">"densityDiag"</span>),<span class="at">alpha=</span><span class="fl">0.5</span>))</span>
<span id="cb105-146"><a href="#cb105-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-147"><a href="#cb105-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-148"><a href="#cb105-148" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE}</span></span>
<span id="cb105-149"><a href="#cb105-149" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-150"><a href="#cb105-150" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb105-151"><a href="#cb105-151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span><span class="sc">:</span><span class="dv">13</span>),</span>
<span id="cb105-152"><a href="#cb105-152" aria-hidden="true" tabindex="-1"></a>          <span class="at">upper=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">'cor'</span>,<span class="at">size=</span><span class="dv">5</span>)),</span>
<span id="cb105-153"><a href="#cb105-153" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower=</span><span class="fu">list</span>(<span class="at">combo=</span><span class="fu">wrap</span>(<span class="st">"facethist"</span>,<span class="at">bins=</span><span class="dv">30</span>)),</span>
<span id="cb105-154"><a href="#cb105-154" aria-hidden="true" tabindex="-1"></a>          <span class="at">diag=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">"densityDiag"</span>),<span class="at">alpha=</span><span class="fl">0.5</span>))</span>
<span id="cb105-155"><a href="#cb105-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-156"><a href="#cb105-156" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-157"><a href="#cb105-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-158"><a href="#cb105-158" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE}</span></span>
<span id="cb105-159"><a href="#cb105-159" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-160"><a href="#cb105-160" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb105-161"><a href="#cb105-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">22</span><span class="sc">:</span><span class="dv">26</span>),</span>
<span id="cb105-162"><a href="#cb105-162" aria-hidden="true" tabindex="-1"></a>          <span class="at">upper=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">'cor'</span>,<span class="at">size=</span><span class="dv">5</span>)),</span>
<span id="cb105-163"><a href="#cb105-163" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower=</span><span class="fu">list</span>(<span class="at">combo=</span><span class="fu">wrap</span>(<span class="st">"facethist"</span>,<span class="at">bins=</span><span class="dv">30</span>)),</span>
<span id="cb105-164"><a href="#cb105-164" aria-hidden="true" tabindex="-1"></a>          <span class="at">diag=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">"densityDiag"</span>),<span class="at">alpha=</span><span class="fl">0.5</span>))</span>
<span id="cb105-165"><a href="#cb105-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-166"><a href="#cb105-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-167"><a href="#cb105-167" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-168"><a href="#cb105-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-169"><a href="#cb105-169" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,message=FALSE}</span></span>
<span id="cb105-170"><a href="#cb105-170" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-171"><a href="#cb105-171" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb105-172"><a href="#cb105-172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb105-173"><a href="#cb105-173" aria-hidden="true" tabindex="-1"></a>          <span class="at">upper=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">'cor'</span>,<span class="at">size=</span><span class="dv">5</span>)),</span>
<span id="cb105-174"><a href="#cb105-174" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower=</span><span class="fu">list</span>(<span class="at">combo=</span><span class="fu">wrap</span>(<span class="st">"facethist"</span>,<span class="at">bins=</span><span class="dv">30</span>)),</span>
<span id="cb105-175"><a href="#cb105-175" aria-hidden="true" tabindex="-1"></a>          <span class="at">diag=</span><span class="fu">list</span>(<span class="at">continuous=</span><span class="fu">wrap</span>(<span class="st">"densityDiag"</span>),<span class="at">alpha=</span><span class="fl">0.5</span>))</span>
<span id="cb105-176"><a href="#cb105-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-177"><a href="#cb105-177" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-178"><a href="#cb105-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-179"><a href="#cb105-179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,message=FALSE}</span></span>
<span id="cb105-180"><a href="#cb105-180" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-181"><a href="#cb105-181" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb105-182"><a href="#cb105-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-183"><a href="#cb105-183" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(NAME,CONTRACT_START,CONTRACT_END)) <span class="sc">%&gt;%</span> </span>
<span id="cb105-184"><a href="#cb105-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb105-185"><a href="#cb105-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggcorrplot</span>(<span class="at">hc.order =</span> <span class="cn">TRUE</span>, <span class="at">type =</span> <span class="st">"lower"</span>,<span class="at">outline.col =</span> <span class="st">"white"</span>,<span class="at">lab=</span><span class="cn">TRUE</span>, <span class="at">lab_size=</span><span class="dv">1</span>)</span>
<span id="cb105-186"><a href="#cb105-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-187"><a href="#cb105-187" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-188"><a href="#cb105-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-189"><a href="#cb105-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-190"><a href="#cb105-190" aria-hidden="true" tabindex="-1"></a>Here I created 3 ggpairs plots and a correlation matrix to investigate the correlations between my target variable and and features. I am looking for strong and weak correlations. Based on the correlation matrix, I see a mixture or strong and weak correlations between features and my target variable, Average Salary. This makes me believe that non linear regression methods will perform better than linear regression methods on this dataset.</span>
<span id="cb105-191"><a href="#cb105-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-192"><a href="#cb105-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-193"><a href="#cb105-193" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message = FALSE}</span></span>
<span id="cb105-194"><a href="#cb105-194" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb105-195"><a href="#cb105-195" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>AVG_SALARY)) <span class="sc">+</span> </span>
<span id="cb105-196"><a href="#cb105-196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb105-197"><a href="#cb105-197" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept=</span><span class="fu">mean</span>(AVG_SALARY)),</span>
<span id="cb105-198"><a href="#cb105-198" aria-hidden="true" tabindex="-1"></a>            <span class="at">color=</span><span class="st">"blue"</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">size=</span><span class="dv">1</span>)</span>
<span id="cb105-199"><a href="#cb105-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-200"><a href="#cb105-200" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(AVG_SALARY) <span class="sc">%&gt;%</span> </span>
<span id="cb105-201"><a href="#cb105-201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(AVG_SALARY))</span>
<span id="cb105-202"><a href="#cb105-202" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-203"><a href="#cb105-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-204"><a href="#cb105-204" aria-hidden="true" tabindex="-1"></a>Here I wanted to look at the distribution of my target variable. I can see the distribution is not normal and skewed right. Seeing this makes me think that more flexible methods will work better when I create my regression models.</span>
<span id="cb105-205"><a href="#cb105-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-206"><a href="#cb105-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-207"><a href="#cb105-207" aria-hidden="true" tabindex="-1"></a><span class="fu"># Evaluation Metric</span></span>
<span id="cb105-208"><a href="#cb105-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-209"><a href="#cb105-209" aria-hidden="true" tabindex="-1"></a>For my evaluation metric, I will use Root Mean Squared Logarithmic Error (RMSLE). I am choosing RMSLE because my predicted and actual values of my target variable (salary) are large integers, so by taking the logs of them it will remove any penalization of those huge differences between those values. My target variable has a skewed distribution and a large range, so RMSLE is a good fit because prediction errors of low and high salary will be treated evenly.</span>
<span id="cb105-210"><a href="#cb105-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-211"><a href="#cb105-211" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Preprocessing</span></span>
<span id="cb105-212"><a href="#cb105-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-213"><a href="#cb105-213" aria-hidden="true" tabindex="-1"></a>My first step in pre-processing my dataset was to remove any features based off of logic. I removed the players names, their wins, their loses, their contract start year and contract end year. I removed wins and loses because that is a team statistic and I do not believe that will have an effect in determining salary. I removed contract start and end years because I created a variable using both of them. The variable I created was c_duration, which is the difference between CONTRACT_START and CONTRACT_END. I did not remove any other features from my dataset because all remaining features are related to the players performance and availability during a season. I did not have any missing data in my dataset so I do not need any data imputation. In order to use Ridge and SVM regression, I had to scale my training, validation and test data using the StandardScaler(). For my model selection and analysis, I will be using Python.</span>
<span id="cb105-214"><a href="#cb105-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-215"><a href="#cb105-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-216"><a href="#cb105-216" aria-hidden="true" tabindex="-1"></a><span class="fu"># Model Evaluation</span></span>
<span id="cb105-217"><a href="#cb105-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-218"><a href="#cb105-218" aria-hidden="true" tabindex="-1"></a>The methods I will use are SVM, Ridge, Random Forrest, and Gradient Boosting Decision Trees for regression. I will use Grid Search cross-validation with 5 folds in order to tune the hyperparmaters for each model. In this section I will provide the best parameters selected from Grid Search CV, training error, validation error, and testing error for all methods. </span>
<span id="cb105-219"><a href="#cb105-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-222"><a href="#cb105-222" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-223"><a href="#cb105-223" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb105-224"><a href="#cb105-224" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb105-225"><a href="#cb105-225" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb105-226"><a href="#cb105-226" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> OrdinalEncoder</span>
<span id="cb105-227"><a href="#cb105-227" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> Ridge</span>
<span id="cb105-228"><a href="#cb105-228" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> Lasso</span>
<span id="cb105-229"><a href="#cb105-229" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> GridSearchCV</span>
<span id="cb105-230"><a href="#cb105-230" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> make_scorer, mean_squared_log_error, mean_squared_error</span>
<span id="cb105-231"><a href="#cb105-231" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.spatial.distance <span class="im">import</span> cdist</span>
<span id="cb105-232"><a href="#cb105-232" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> mode</span>
<span id="cb105-233"><a href="#cb105-233" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> LabelEncoder</span>
<span id="cb105-234"><a href="#cb105-234" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> MinMaxScaler</span>
<span id="cb105-235"><a href="#cb105-235" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb105-236"><a href="#cb105-236" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span>
<span id="cb105-237"><a href="#cb105-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-238"><a href="#cb105-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-239"><a href="#cb105-239" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-240"><a href="#cb105-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-241"><a href="#cb105-241" aria-hidden="true" tabindex="-1"></a><span class="fu">## Pre Processing in Python</span></span>
<span id="cb105-242"><a href="#cb105-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-245"><a href="#cb105-245" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-246"><a href="#cb105-246" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"_data/nba_contracts_history.csv"</span>)</span>
<span id="cb105-247"><a href="#cb105-247" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-248"><a href="#cb105-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-249"><a href="#cb105-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-250"><a href="#cb105-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-251"><a href="#cb105-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-254"><a href="#cb105-254" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-255"><a href="#cb105-255" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating variable c_duration</span></span>
<span id="cb105-256"><a href="#cb105-256" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"c_duration"</span>] <span class="op">=</span> df[<span class="st">"CONTRACT_END"</span>] <span class="op">-</span> df[<span class="st">"CONTRACT_START"</span>] </span>
<span id="cb105-257"><a href="#cb105-257" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-258"><a href="#cb105-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-259"><a href="#cb105-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-260"><a href="#cb105-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-263"><a href="#cb105-263" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-264"><a href="#cb105-264" aria-hidden="true" tabindex="-1"></a><span class="co">#Creates set of features I will use</span></span>
<span id="cb105-265"><a href="#cb105-265" aria-hidden="true" tabindex="-1"></a>features <span class="op">=</span> df.drop([<span class="st">"NAME"</span>,<span class="st">"CONTRACT_START"</span>, <span class="st">"CONTRACT_END"</span>,<span class="st">"AVG_SALARY"</span>,<span class="st">"W"</span>,<span class="st">"L"</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb105-266"><a href="#cb105-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-267"><a href="#cb105-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-268"><a href="#cb105-268" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-269"><a href="#cb105-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-270"><a href="#cb105-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-273"><a href="#cb105-273" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-274"><a href="#cb105-274" aria-hidden="true" tabindex="-1"></a><span class="co">#sub-setting my target variable, Average Salary</span></span>
<span id="cb105-275"><a href="#cb105-275" aria-hidden="true" tabindex="-1"></a>target <span class="op">=</span> df[<span class="st">'AVG_SALARY'</span>].to_numpy()</span>
<span id="cb105-276"><a href="#cb105-276" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-277"><a href="#cb105-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-278"><a href="#cb105-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-279"><a href="#cb105-279" aria-hidden="true" tabindex="-1"></a>Here is my data splits, 70% training, 15% validation and 15% Test.</span>
<span id="cb105-280"><a href="#cb105-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-283"><a href="#cb105-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-284"><a href="#cb105-284" aria-hidden="true" tabindex="-1"></a>X_train, X_test, Y_train, Y_test <span class="op">=</span> train_test_split(features, target, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb105-285"><a href="#cb105-285" aria-hidden="true" tabindex="-1"></a>X_valid, X_test, Y_valid, Y_test <span class="op">=</span> train_test_split(X_test, Y_test, test_size<span class="op">=</span><span class="fl">0.5</span>, random_state<span class="op">=</span> <span class="dv">42</span>)</span>
<span id="cb105-286"><a href="#cb105-286" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-287"><a href="#cb105-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-288"><a href="#cb105-288" aria-hidden="true" tabindex="-1"></a>Here I check to see if the data is split up correctly.</span>
<span id="cb105-289"><a href="#cb105-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-292"><a href="#cb105-292" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-293"><a href="#cb105-293" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(X_train.shape, X_valid.shape, X_test.shape)</span>
<span id="cb105-294"><a href="#cb105-294" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Y_train.shape, Y_valid.shape, Y_test.shape)</span>
<span id="cb105-295"><a href="#cb105-295" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-296"><a href="#cb105-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-297"><a href="#cb105-297" aria-hidden="true" tabindex="-1"></a>Here I use the make_scorer() function so that I can call RMSLE during Grid Search Cross Validation.</span>
<span id="cb105-298"><a href="#cb105-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-301"><a href="#cb105-301" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-302"><a href="#cb105-302" aria-hidden="true" tabindex="-1"></a>RMSLE <span class="op">=</span> make_scorer(mean_squared_log_error, squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-303"><a href="#cb105-303" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-304"><a href="#cb105-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-305"><a href="#cb105-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-306"><a href="#cb105-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-307"><a href="#cb105-307" aria-hidden="true" tabindex="-1"></a><span class="fu">## Random Forest</span></span>
<span id="cb105-308"><a href="#cb105-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-309"><a href="#cb105-309" aria-hidden="true" tabindex="-1"></a>For hyperparameter tuning, I chose to tune n_estimators, max_features, min_samples_split and min_sample_leafs. From Sckit learn's documentation, it states that n_estimators and max_features are the main parameters to tune, so I will follow the documentations suggestion. I included min_sample_split and min_sample_leafs because I want to control my model for overfitting. By increasing the values of these two parameters, it will help prevent my model from overfitting. </span>
<span id="cb105-310"><a href="#cb105-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-313"><a href="#cb105-313" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-314"><a href="#cb105-314" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb105-315"><a href="#cb105-315" aria-hidden="true" tabindex="-1"></a>RF <span class="op">=</span> RandomForestRegressor()</span>
<span id="cb105-316"><a href="#cb105-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-317"><a href="#cb105-317" aria-hidden="true" tabindex="-1"></a>param_grid_RF <span class="op">=</span> {</span>
<span id="cb105-318"><a href="#cb105-318" aria-hidden="true" tabindex="-1"></a>    <span class="st">'n_estimators'</span>: [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">400</span>],</span>
<span id="cb105-319"><a href="#cb105-319" aria-hidden="true" tabindex="-1"></a>     <span class="st">'max_features'</span>: [<span class="va">None</span>, <span class="fl">1.0</span>],</span>
<span id="cb105-320"><a href="#cb105-320" aria-hidden="true" tabindex="-1"></a>     <span class="st">'min_samples_split'</span>: [<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span> ,<span class="dv">8</span>],</span>
<span id="cb105-321"><a href="#cb105-321" aria-hidden="true" tabindex="-1"></a>    <span class="st">'min_samples_leaf'</span>: [<span class="dv">1</span>, <span class="dv">2</span> ,<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>]}</span>
<span id="cb105-322"><a href="#cb105-322" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-323"><a href="#cb105-323" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-324"><a href="#cb105-324" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-325"><a href="#cb105-325" aria-hidden="true" tabindex="-1"></a>gridRF<span class="op">=</span> GridSearchCV(RF, param_grid_RF,scoring <span class="op">=</span> RMSLE, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb105-326"><a href="#cb105-326" aria-hidden="true" tabindex="-1"></a>gridRF.fit(X_train, Y_train)</span>
<span id="cb105-327"><a href="#cb105-327" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Best parameters:"</span>,gridRF.best_params_)</span>
<span id="cb105-328"><a href="#cb105-328" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Training error (RMSLE):"</span>, gridRF.best_score_)</span>
<span id="cb105-329"><a href="#cb105-329" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-330"><a href="#cb105-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-331"><a href="#cb105-331" aria-hidden="true" tabindex="-1"></a>Checking Validation Error for Random Forests.</span>
<span id="cb105-332"><a href="#cb105-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-335"><a href="#cb105-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-336"><a href="#cb105-336" aria-hidden="true" tabindex="-1"></a>best_model_RF <span class="op">=</span> gridRF.best_estimator_</span>
<span id="cb105-337"><a href="#cb105-337" aria-hidden="true" tabindex="-1"></a>predict_y_RF <span class="op">=</span> best_model_RF.predict(X_valid)</span>
<span id="cb105-338"><a href="#cb105-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-339"><a href="#cb105-339" aria-hidden="true" tabindex="-1"></a>RF_rmsle <span class="op">=</span> mean_squared_log_error(Y_valid, predict_y_RF,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-340"><a href="#cb105-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-341"><a href="#cb105-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-342"><a href="#cb105-342" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Validation error (RMSLE):"</span>,RF_rmsle)</span>
<span id="cb105-343"><a href="#cb105-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-344"><a href="#cb105-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-345"><a href="#cb105-345" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-346"><a href="#cb105-346" aria-hidden="true" tabindex="-1"></a><span class="fu">## Scaling Data</span></span>
<span id="cb105-347"><a href="#cb105-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-348"><a href="#cb105-348" aria-hidden="true" tabindex="-1"></a>Scaling data for SVM and Ridge Regression.</span>
<span id="cb105-349"><a href="#cb105-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-352"><a href="#cb105-352" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-353"><a href="#cb105-353" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb105-354"><a href="#cb105-354" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb105-355"><a href="#cb105-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-356"><a href="#cb105-356" aria-hidden="true" tabindex="-1"></a>X_train_scaled <span class="op">=</span> scaler.fit_transform(X_train)</span>
<span id="cb105-357"><a href="#cb105-357" aria-hidden="true" tabindex="-1"></a>X_valid_scaled <span class="op">=</span> scaler.transform(X_valid)</span>
<span id="cb105-358"><a href="#cb105-358" aria-hidden="true" tabindex="-1"></a>X_test_scaled <span class="op">=</span> scaler.transform(X_test)</span>
<span id="cb105-359"><a href="#cb105-359" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-360"><a href="#cb105-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-361"><a href="#cb105-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-362"><a href="#cb105-362" aria-hidden="true" tabindex="-1"></a><span class="fu">## SVR</span></span>
<span id="cb105-363"><a href="#cb105-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-364"><a href="#cb105-364" aria-hidden="true" tabindex="-1"></a>The hyperparameters I tuned from SVR are C, gamma and kernel. I needed to tune for Kernel so that my model finds the best hyper plane that fits the datapoints from my target variable. The kernel will deal with the non-linear relationship on between my features and target variable. Tuning for C and gamma will help my model from overfitting.</span>
<span id="cb105-365"><a href="#cb105-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-368"><a href="#cb105-368" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-369"><a href="#cb105-369" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.svm <span class="im">import</span> SVR</span>
<span id="cb105-370"><a href="#cb105-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-371"><a href="#cb105-371" aria-hidden="true" tabindex="-1"></a>SVR <span class="op">=</span> SVR()</span>
<span id="cb105-372"><a href="#cb105-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-373"><a href="#cb105-373" aria-hidden="true" tabindex="-1"></a>param_grid_SVR <span class="op">=</span> {<span class="st">'C'</span>: [<span class="fl">0.1</span>, <span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>],</span>
<span id="cb105-374"><a href="#cb105-374" aria-hidden="true" tabindex="-1"></a>              <span class="st">'gamma'</span>: [<span class="fl">0.0001</span>, <span class="fl">0.001</span>,<span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="dv">1</span>],</span>
<span id="cb105-375"><a href="#cb105-375" aria-hidden="true" tabindex="-1"></a>              <span class="st">'kernel'</span>: [<span class="st">'rbf'</span>, <span class="st">'poly'</span>]}</span>
<span id="cb105-376"><a href="#cb105-376" aria-hidden="true" tabindex="-1"></a>gridSVR<span class="op">=</span> GridSearchCV(SVR, param_grid_SVR, scoring <span class="op">=</span> RMSLE, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb105-377"><a href="#cb105-377" aria-hidden="true" tabindex="-1"></a>gridSVR.fit(X_train_scaled, Y_train)</span>
<span id="cb105-378"><a href="#cb105-378" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Best parameters:"</span>,gridSVR.best_params_)</span>
<span id="cb105-379"><a href="#cb105-379" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Training error (RMSLE):"</span>, gridSVR.best_score_)</span>
<span id="cb105-380"><a href="#cb105-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-381"><a href="#cb105-381" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-382"><a href="#cb105-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-383"><a href="#cb105-383" aria-hidden="true" tabindex="-1"></a>Checking Validation Error for SVR.</span>
<span id="cb105-384"><a href="#cb105-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-385"><a href="#cb105-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-388"><a href="#cb105-388" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-389"><a href="#cb105-389" aria-hidden="true" tabindex="-1"></a>best_model_SVR <span class="op">=</span> gridSVR.best_estimator_</span>
<span id="cb105-390"><a href="#cb105-390" aria-hidden="true" tabindex="-1"></a>predict_y_SVR <span class="op">=</span> best_model_SVR.predict(X_valid_scaled)</span>
<span id="cb105-391"><a href="#cb105-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-392"><a href="#cb105-392" aria-hidden="true" tabindex="-1"></a>SVR_rmsle <span class="op">=</span> mean_squared_log_error(Y_valid, predict_y_SVR,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-393"><a href="#cb105-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-394"><a href="#cb105-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-395"><a href="#cb105-395" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Validation error (RMSLE):"</span>, SVR_rmsle)</span>
<span id="cb105-396"><a href="#cb105-396" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-397"><a href="#cb105-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-398"><a href="#cb105-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-399"><a href="#cb105-399" aria-hidden="true" tabindex="-1"></a><span class="fu">## Ridge</span></span>
<span id="cb105-400"><a href="#cb105-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-401"><a href="#cb105-401" aria-hidden="true" tabindex="-1"></a>For Ridge Regression, The only hyperparameter I tuned was alpha, which is the penalty term. I chose to search through small, intermediate, and large values of alpha.</span>
<span id="cb105-402"><a href="#cb105-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-405"><a href="#cb105-405" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-406"><a href="#cb105-406" aria-hidden="true" tabindex="-1"></a>ridge <span class="op">=</span> Ridge()</span>
<span id="cb105-407"><a href="#cb105-407" aria-hidden="true" tabindex="-1"></a>param_grid_ridge <span class="op">=</span> {<span class="st">'alpha'</span>:np.concatenate((np.arange(<span class="fl">0.1</span>,<span class="dv">2</span>,<span class="fl">0.1</span>), np.arange(<span class="dv">2</span>, <span class="dv">5</span>, <span class="fl">0.5</span>), np.arange(<span class="dv">5</span>, <span class="dv">105</span>, <span class="dv">5</span>)))}</span>
<span id="cb105-408"><a href="#cb105-408" aria-hidden="true" tabindex="-1"></a>gridRidge <span class="op">=</span> GridSearchCV(ridge, param_grid_ridge,scoring <span class="op">=</span> RMSLE, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb105-409"><a href="#cb105-409" aria-hidden="true" tabindex="-1"></a>gridRidge.fit(X_train_scaled, Y_train)</span>
<span id="cb105-410"><a href="#cb105-410" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Best parameters:"</span>, gridRidge.best_params_)</span>
<span id="cb105-411"><a href="#cb105-411" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Training error (RMSLE):"</span>, gridRidge.best_score_)</span>
<span id="cb105-412"><a href="#cb105-412" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-413"><a href="#cb105-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-414"><a href="#cb105-414" aria-hidden="true" tabindex="-1"></a>Checking Validation Error for Ridge Regression.</span>
<span id="cb105-415"><a href="#cb105-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-418"><a href="#cb105-418" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-419"><a href="#cb105-419" aria-hidden="true" tabindex="-1"></a>best_model_ridge <span class="op">=</span> gridRidge.best_estimator_</span>
<span id="cb105-420"><a href="#cb105-420" aria-hidden="true" tabindex="-1"></a>predict_y_ridge <span class="op">=</span> best_model_ridge.predict(X_valid_scaled)</span>
<span id="cb105-421"><a href="#cb105-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-422"><a href="#cb105-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-423"><a href="#cb105-423" aria-hidden="true" tabindex="-1"></a>ridge_rmsle <span class="op">=</span> mean_squared_log_error(Y_valid, predict_y_ridge,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-424"><a href="#cb105-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-425"><a href="#cb105-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-426"><a href="#cb105-426" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Validation error (RMSLE):"</span>, ridge_rmsle)</span>
<span id="cb105-427"><a href="#cb105-427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-428"><a href="#cb105-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-429"><a href="#cb105-429" aria-hidden="true" tabindex="-1"></a><span class="fu">## Gradient Boosting Decision Trees Regressor</span></span>
<span id="cb105-430"><a href="#cb105-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-431"><a href="#cb105-431" aria-hidden="true" tabindex="-1"></a>The hyperparameters I chose to tune for the Gradient Boosting Decision Trees Regressor are n_estimators, learning_rate, and max_depth. GBDTR uses multiple shallow decision trees as weak learners to predict the residuals of the decision trees instead of the target variable. The idea here is use gradient descent to update the residuals after every tree until the model has run through all available trees (n_estimators). Learning rate controls how much the residuals are updated from tree to tree, which can also be described as the "size" of the step in gradient descent. Smaller values of learning rate will allow my model to generalize better on the validation and test data. Max_depth refers to the depth of each tree, which is important because it determines how weak the trees are in the ensemble. </span>
<span id="cb105-432"><a href="#cb105-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-433"><a href="#cb105-433" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb105-436"><a href="#cb105-436" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-437"><a href="#cb105-437" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> GradientBoostingRegressor</span>
<span id="cb105-438"><a href="#cb105-438" aria-hidden="true" tabindex="-1"></a>GBR <span class="op">=</span> GradientBoostingRegressor()</span>
<span id="cb105-439"><a href="#cb105-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-440"><a href="#cb105-440" aria-hidden="true" tabindex="-1"></a>param_grid_GBR <span class="op">=</span> {</span>
<span id="cb105-441"><a href="#cb105-441" aria-hidden="true" tabindex="-1"></a>    <span class="st">'n_estimators'</span>: [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">400</span>],</span>
<span id="cb105-442"><a href="#cb105-442" aria-hidden="true" tabindex="-1"></a>     <span class="st">'learning_rate'</span>: [ <span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>,<span class="fl">0.3</span>],</span>
<span id="cb105-443"><a href="#cb105-443" aria-hidden="true" tabindex="-1"></a>     <span class="st">'max_depth'</span>: [<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>]}</span>
<span id="cb105-444"><a href="#cb105-444" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-445"><a href="#cb105-445" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-446"><a href="#cb105-446" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-447"><a href="#cb105-447" aria-hidden="true" tabindex="-1"></a>gridGBR<span class="op">=</span> GridSearchCV(GBR, param_grid_GBR,scoring <span class="op">=</span> RMSLE, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb105-448"><a href="#cb105-448" aria-hidden="true" tabindex="-1"></a>gridGBR.fit(X_train, Y_train)</span>
<span id="cb105-449"><a href="#cb105-449" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Best parameters:"</span>, gridGBR.best_params_)</span>
<span id="cb105-450"><a href="#cb105-450" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Training error (RMSLE):"</span>, gridGBR.best_score_)</span>
<span id="cb105-451"><a href="#cb105-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-452"><a href="#cb105-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-453"><a href="#cb105-453" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-454"><a href="#cb105-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-455"><a href="#cb105-455" aria-hidden="true" tabindex="-1"></a>Checking Validation Error for Gradient Boosting Decision Trees.</span>
<span id="cb105-456"><a href="#cb105-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-459"><a href="#cb105-459" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-460"><a href="#cb105-460" aria-hidden="true" tabindex="-1"></a>best_model_GBR <span class="op">=</span> gridGBR.best_estimator_</span>
<span id="cb105-461"><a href="#cb105-461" aria-hidden="true" tabindex="-1"></a>predict_y_GBR <span class="op">=</span> best_model_GBR.predict(X_valid)</span>
<span id="cb105-462"><a href="#cb105-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-463"><a href="#cb105-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-464"><a href="#cb105-464" aria-hidden="true" tabindex="-1"></a>GBR_rmsle <span class="op">=</span> mean_squared_log_error(Y_valid, predict_y_GBR,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-465"><a href="#cb105-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-466"><a href="#cb105-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-467"><a href="#cb105-467" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Validation error (RMSLE):"</span>, GBR_rmsle)</span>
<span id="cb105-468"><a href="#cb105-468" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-469"><a href="#cb105-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-470"><a href="#cb105-470" aria-hidden="true" tabindex="-1"></a><span class="fu">## Final Evaluation using Test Set </span></span>
<span id="cb105-471"><a href="#cb105-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-472"><a href="#cb105-472" aria-hidden="true" tabindex="-1"></a>Checking Test Error for all models. Again I will list the best parameters selected from Grid Search CV.</span>
<span id="cb105-473"><a href="#cb105-473" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-476"><a href="#cb105-476" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-477"><a href="#cb105-477" aria-hidden="true" tabindex="-1"></a>best_model_RF</span>
<span id="cb105-478"><a href="#cb105-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-479"><a href="#cb105-479" aria-hidden="true" tabindex="-1"></a>predict_test_RF <span class="op">=</span> best_model_RF.predict(X_test)</span>
<span id="cb105-480"><a href="#cb105-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-481"><a href="#cb105-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-482"><a href="#cb105-482" aria-hidden="true" tabindex="-1"></a>RF_test_rmsle <span class="op">=</span> mean_squared_log_error(Y_test, predict_test_RF,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-483"><a href="#cb105-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-484"><a href="#cb105-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-485"><a href="#cb105-485" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Test error (RMSLE):"</span>, RF_test_rmsle)</span>
<span id="cb105-486"><a href="#cb105-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-487"><a href="#cb105-487" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-488"><a href="#cb105-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-489"><a href="#cb105-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-492"><a href="#cb105-492" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-493"><a href="#cb105-493" aria-hidden="true" tabindex="-1"></a>best_model_SVR </span>
<span id="cb105-494"><a href="#cb105-494" aria-hidden="true" tabindex="-1"></a>predict_test_SVR <span class="op">=</span> best_model_SVR.predict(X_test_scaled)</span>
<span id="cb105-495"><a href="#cb105-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-496"><a href="#cb105-496" aria-hidden="true" tabindex="-1"></a>SVR_test_rmsle <span class="op">=</span> mean_squared_log_error(Y_test, predict_test_SVR,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-497"><a href="#cb105-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-498"><a href="#cb105-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-499"><a href="#cb105-499" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Test error (RMSLE):"</span>, SVR_test_rmsle)</span>
<span id="cb105-500"><a href="#cb105-500" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-503"><a href="#cb105-503" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-504"><a href="#cb105-504" aria-hidden="true" tabindex="-1"></a>best_model_ridge</span>
<span id="cb105-505"><a href="#cb105-505" aria-hidden="true" tabindex="-1"></a>predict_test_ridge <span class="op">=</span> best_model_ridge.predict(X_test_scaled)</span>
<span id="cb105-506"><a href="#cb105-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-507"><a href="#cb105-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-508"><a href="#cb105-508" aria-hidden="true" tabindex="-1"></a>ridge_test_rmsle <span class="op">=</span> mean_squared_log_error(Y_test, predict_test_ridge,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-509"><a href="#cb105-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-510"><a href="#cb105-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-511"><a href="#cb105-511" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Test error (RMSLE):"</span>, ridge_test_rmsle)</span>
<span id="cb105-512"><a href="#cb105-512" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-513"><a href="#cb105-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-516"><a href="#cb105-516" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-517"><a href="#cb105-517" aria-hidden="true" tabindex="-1"></a>best_model_GBR</span>
<span id="cb105-518"><a href="#cb105-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-519"><a href="#cb105-519" aria-hidden="true" tabindex="-1"></a>predict_test_GBR <span class="op">=</span> best_model_GBR.predict(X_test)</span>
<span id="cb105-520"><a href="#cb105-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-521"><a href="#cb105-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-522"><a href="#cb105-522" aria-hidden="true" tabindex="-1"></a>GBR_test_rmsle <span class="op">=</span> mean_squared_log_error(Y_test, predict_test_GBR,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb105-523"><a href="#cb105-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-524"><a href="#cb105-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-525"><a href="#cb105-525" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Test error (RMSLE):"</span>, GBR_test_rmsle)</span>
<span id="cb105-526"><a href="#cb105-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-527"><a href="#cb105-527" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-528"><a href="#cb105-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-529"><a href="#cb105-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-530"><a href="#cb105-530" aria-hidden="true" tabindex="-1"></a><span class="fu"># Comparing Models</span></span>
<span id="cb105-531"><a href="#cb105-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-532"><a href="#cb105-532" aria-hidden="true" tabindex="-1"></a>Here I printed all training, validation, and testing errors for all models.</span>
<span id="cb105-533"><a href="#cb105-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-536"><a href="#cb105-536" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb105-537"><a href="#cb105-537" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"training error Random Forest (RMSLE):"</span>,gridRF.best_score_)</span>
<span id="cb105-538"><a href="#cb105-538" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"training error SVR (RMSLE):"</span>,gridSVR.best_score_)</span>
<span id="cb105-539"><a href="#cb105-539" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"training error Ridge (RMSLE):"</span>,gridRidge.best_score_)</span>
<span id="cb105-540"><a href="#cb105-540" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"training error GBR (RMSLE):"</span>,gridGBR.best_score_)</span>
<span id="cb105-541"><a href="#cb105-541" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"validation error Random Forest (RMSLE):"</span>,RF_rmsle)</span>
<span id="cb105-542"><a href="#cb105-542" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"validation error SVR (RMSLE):"</span>,SVR_rmsle)</span>
<span id="cb105-543"><a href="#cb105-543" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"validation error Ridge (RMSLE):"</span>,ridge_rmsle)</span>
<span id="cb105-544"><a href="#cb105-544" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"validation error GBR (RMSLE):"</span>,GBR_rmsle)</span>
<span id="cb105-545"><a href="#cb105-545" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"test error Random Forest (RMSLE):"</span>,RF_test_rmsle)</span>
<span id="cb105-546"><a href="#cb105-546" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"test error SVR (RMSLE):"</span>,SVR_test_rmsle)</span>
<span id="cb105-547"><a href="#cb105-547" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"test error Ridge (RMSLE):"</span>, ridge_test_rmsle)</span>
<span id="cb105-548"><a href="#cb105-548" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"test error GBR (RMSLE):"</span>,GBR_test_rmsle)</span>
<span id="cb105-549"><a href="#cb105-549" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb105-550"><a href="#cb105-550" aria-hidden="true" tabindex="-1"></a>Based on my results, the Random Forrest Regression performs the best out of all my methods. I believe it performs the best due to the fact that the hyperparameters dealing with overfitting. The hyperparameter min_samples_split reduces the number of splits that are happening in the decision trees, which shortens the depth of the tree. Having shorter tree allows for the model to generalize better because it will not rely on the structure of the training data as much. Therefore, this model has a good bias-variance trade off. This method is high in flexibility. Though this method performs the best, it is not the best for interpretability.</span>
<span id="cb105-551"><a href="#cb105-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-552"><a href="#cb105-552" aria-hidden="true" tabindex="-1"></a>SVR performs the worst based on my results. I believe it performs poorly because of the low value of C selected from Cross-validation. In my model, the value of C that was selected is 0.1, which means the model allows for little misclassification of the training data. This leads to the model overfitting and having high variance because the model is too reliant on the training data.This method is high in flexibility. This model also has low interpretability.</span>
<span id="cb105-553"><a href="#cb105-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-554"><a href="#cb105-554" aria-hidden="true" tabindex="-1"></a>Ridge Regression perform second best out of all my methods. I believe it performs well because of the high value of the tuning parameter. Alpha=100 helps reduce the variance in the the model. It seems that alpha=100 also keeps bias from increasing significantly. In terms of interpretability, Ridge is the most interpretable out of all of my methods. This method is low in flexibility.</span>
<span id="cb105-555"><a href="#cb105-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-556"><a href="#cb105-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-557"><a href="#cb105-557" aria-hidden="true" tabindex="-1"></a>Gradient Boosting Decision Trees Regressor did not perform well compared to Ridge and Random Forest. The reason why it performed poorly is because both the learning rate and number of estimators are too low. I can say that the model is biased and underfitting because when the learning rate is low, the residuals are only updated slightly before constructing the next tree. Here the learning rate is too low, so once the model reaches 100 trees (n_estimators), gradient descent will not reach the global minimum because of the lack of trees. This combination of low learning rate and n_estimators does not allow my model to reach the optimum error rate. This method is high in flexibility. In terms of interpretability, GBDTR has low interpretability.</span>
<span id="cb105-558"><a href="#cb105-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-559"><a href="#cb105-559" aria-hidden="true" tabindex="-1"></a><span class="fu"># Ethical implications</span></span>
<span id="cb105-560"><a href="#cb105-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-561"><a href="#cb105-561" aria-hidden="true" tabindex="-1"></a>One concern I have with my model is that it is only trained on players data from the previous season. Although this seems like the logical way of determining a players salary for the future, there are many other factors that go into determining a salary rather than just statistical information. For example, sometimes a players salary can be influenced by what other teams are giving their players. Another example includes players personal accolades, such as first team all NBA, All star team, defensive team of the year etc, can greatly increase ones salary if they earn one of these honors. Another concern I have with my model is that it does not include advanced metrics that capture more capabilities of a player. For example, My data does not include stats that determine how good a player is when defending on the perimeter, which could be a deal breaker when trying to get a good salary. Another concern is that some of contract data is from the early 2010s. Though this is somewhat recent, pay in the NBA increases every year so some of data instances are not scaled up to what the pay should be if this model was used in 2023. My last concern is that my dataset is really small. This is the case because there are only a fraction of players who have earned multiple contracts within the timespan of my data.</span>
<span id="cb105-562"><a href="#cb105-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-563"><a href="#cb105-563" aria-hidden="true" tabindex="-1"></a>How to Address the Issues:</span>
<span id="cb105-564"><a href="#cb105-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-565"><a href="#cb105-565" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>More data from the 2021-2022 and 2022-2023 that follows the scope of our data discussed earlier would be useful to make my model generalize better for future predictions.</span>
<span id="cb105-566"><a href="#cb105-566" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>add more features that related to the advanced statistics that are not covered in the base statistics.</span>
<span id="cb105-567"><a href="#cb105-567" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use this model as a GUIDELINE for determining salary. There will always be external factors that have to due with salary market in the NBA that cannot be covered in the model.</span>
<span id="cb105-568"><a href="#cb105-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-569"><a href="#cb105-569" aria-hidden="true" tabindex="-1"></a><span class="fu"># Link to the dataset</span></span>
<span id="cb105-570"><a href="#cb105-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-571"><a href="#cb105-571" aria-hidden="true" tabindex="-1"></a>https://www.kaggle.com/datasets/jarosawjaworski/current-nba-players-contracts-history</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>